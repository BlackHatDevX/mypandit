(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[200],{3850:(e,t,s)=>{Promise.resolve().then(s.bind(s,3156))},3156:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(3528),l=s(3275),r=s(5316),c=s(7369);let o=function(){let[e,t]=(0,r.useState)(""),[s,o]=(0,r.useState)([]),[i,n]=(0,r.useState)([]),[d,m]=(0,r.useState)(!0),g=(0,l.useRouter)();return(0,r.useEffect)(()=>{try{let e=localStorage.getItem("authToken");if(!e){g.replace("/");return}t(e||"")}catch(e){console.error("Error accessing localStorage:",e)}},[]),(0,r.useEffect)(()=>{let t=async()=>{try{let t=await fetch("https://test.backend.urbanoinfotech.com/api/v1/pandit/service?filter=%7B%7D",{headers:{accept:"application/json",Authorization:e}}),s=await t.json();200===s.statusCode?o(s.results.data):console.error("Failed to fetch services:",s.message)}catch(e){console.error("Error fetching services:",e)}finally{m(!1)}};e&&t()},[e]),(0,r.useEffect)(()=>{s.length&&(async()=>{try{let e=await Promise.all(s.map(async e=>{let t=await fetch("https://test.backend.urbanoinfotech.com/api/v1/get-presigned-url?url=".concat(e.logo_image),{headers:{accept:"application/json"}});return(await t.json()).results.presigned_url}));n(e)}catch(e){console.error("Error fetching services images",e)}})()},[s]),(0,a.jsxs)("div",{className:"main pt-40",children:[(0,a.jsx)("div",{className:"navbar lg:block hidden",children:(0,a.jsx)("nav",{style:{backgroundColor:"#DB2C1D",borderRadius:"20px"},className:"lg:absolute block w-[90%] bg-opacity-90 top-3 right-[5%] left-[5%] shadow backdrop-blur-lg backdrop-saturate-150 z-[9999]",children:(0,a.jsxs)("div",{className:"container flex flex-wrap items-center justify-between mx-auto text-slate-800",children:[(0,a.jsx)(c.default,{href:"/",className:"mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,a.jsx)("img",{src:"/logo.png",className:"w-14",alt:"Logo"})}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)("ul",{className:"flex flex-col gap-2 mt-2 mb-4 lg:mb-0 lg:mt-0 lg:flex-row lg:items-center lg:gap-6",children:(0,a.jsx)("li",{className:"flex items-center p-1 text-sm gap-x-2 text-slate-600",children:(0,a.jsx)("img",{src:"/logout.png",className:"w-10",onClick:()=>{localStorage.clear(),g.replace("/")},alt:"Logout"})})})}),(0,a.jsx)("div",{onClick:()=>{g.back()},className:"mt-40 absolute mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,a.jsx)("img",{src:"/back-arrow.png",className:"w-14",alt:"back"})})]})})}),(0,a.jsxs)("div",{className:"heading w-full mb-5",children:[(0,a.jsx)("div",{onClick:()=>{localStorage.clear(),g.replace("/")},className:"lg:hidden top-5 right-5 absolute mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,a.jsx)("img",{src:"/logout.png",className:"w-10 invert h-8",alt:"back"})}),(0,a.jsxs)("div",{className:"-z-20 block lg:hidden ",children:[(0,a.jsx)("img",{className:"absolute w-fit bottom-0 ",src:"/edit-profile-bg.png",alt:"Background"}),(0,a.jsx)("div",{style:{color:"black"},className:"lg:-z-10 lg:hidden absolute -left-56 top-48 rotate-90 opacity-60",children:(0,a.jsx)("img",{className:"lg:absolute relative w-1/2 bottom-0",src:"/pandit-back.png",alt:"Background"})})]}),(0,a.jsx)("div",{onClick:()=>{g.back()},className:"lg:hidden top-5 left-5 absolute mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,a.jsx)("img",{src:"/back-arrow.png",className:"w-10",alt:"back"})}),(0,a.jsx)("p",{className:"font-bold lg:text-4xl text-2xl font-serif text-gray-800 text-center",children:"Your services"})]}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center mt-8 gap-4",children:d?(0,a.jsx)("p",{children:"Loading..."}):0===s.length?(0,a.jsxs)("div",{className:"flex flex-col ",children:[(0,a.jsx)("p",{className:"font-semibold lg:text-4xl text-2xl font-sans pt-14 text-gray-800 text-center",children:"You have not added any service"}),(0,a.jsx)("div",{className:" text-center",children:(0,a.jsx)("button",{className:" bg-white w-auto border-solid border-gray-600 border-2 text-gray-600 py-2 px-10 rounded-lg mt-8 hover:bg-gray-600 hover:text-white transition duration-300  p-3  text-lg font-semibold shadow-lg",onClick:()=>{g.replace("/dashboard")},children:"Add new service"})})]}):s.map((e,t)=>(0,a.jsxs)("div",{className:"relative bg-white shadow-lg rounded-lg p-4 w-[300px] h-[300px]",children:[(0,a.jsx)("button",{className:"absolute bottom-5 right-5 bg-red-500 text-white rounded-full p-2",onClick:()=>{console.log("Delete service with id: ".concat(e.id))},children:"X"}),(0,a.jsx)("img",{src:i[t],alt:e.name,className:"w-full h-40 object-cover rounded-t-lg"}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.category_name}),(0,a.jsxs)("p",{className:"mt-2 text-sm",children:["Dakshina:"," ",(0,a.jsxs)("span",{className:"font-semibold",children:["â‚¹",e.dakshina]})]}),(0,a.jsxs)("p",{className:"text-sm",children:["Duration:"," ",(0,a.jsxs)("span",{className:"font-semibold",children:[e.duration," hours"]})]})]})]},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[635,465,743,358],()=>t(3850)),_N_E=e.O()}]);