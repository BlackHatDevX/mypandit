(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{1016:(e,t,a)=>{Promise.resolve().then(a.bind(a,3106))},3106:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(3528),l=a(3275),r=a(5316),c=a(7369);let o=function(){let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)([]),[i,n]=(0,r.useState)([]),[d,g]=(0,r.useState)(null),[m,x]=(0,r.useState)(!0),h=(0,l.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("authToken");if(!e){h.replace("/");return}t(e)},[h]),(0,r.useEffect)(()=>{e&&(async()=>{try{let t=await fetch("https://test.backend.urbanoinfotech.com/api/v1/category",{headers:{accept:"application/json",Authorization:e}}),a=await t.json();200===a.statusCode?n(a.results.data):console.error("Failed to fetch categories:",a.message)}catch(e){console.error("Error fetching categories:",e)}})()},[e]),(0,r.useEffect)(()=>{(async()=>{if(0!==i.length)try{let e=await Promise.all(i.map(async e=>{let t=await fetch("https://test.backend.urbanoinfotech.com/api/v1/get-presigned-url?url=".concat(e.image),{headers:{accept:"application/json"}});return(await t.json()).results.presigned_url}));o(e),x(!1)}catch(e){console.error("Error fetching category images:",e),x(!1)}})()},[i]);let b=e=>{g(e)};return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"main",children:[(0,s.jsxs)("div",{className:"flex lg:flex-row flex-col",children:[(0,s.jsx)("div",{className:"navbar lg:block hidden",children:(0,s.jsx)("nav",{style:{backgroundColor:"#DB2C1D",borderRadius:"20px"},className:"lg:absolute block w-[90%] bg-opacity-90 top-3 right-[5%] left-[5%] shadow backdrop-blur-lg backdrop-saturate-150 z-[9999]",children:(0,s.jsxs)("div",{className:"container flex flex-wrap items-center justify-between mx-auto text-slate-800",children:[(0,s.jsx)(c.default,{href:"/",className:"mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,s.jsx)("img",{src:"/logo.png",className:"w-14",alt:"Logo"})}),(0,s.jsx)("div",{className:"hidden lg:block",children:(0,s.jsx)("ul",{className:"flex flex-col gap-2 mt-2 mb-4 lg:mb-0 lg:mt-0 lg:flex-row lg:items-center lg:gap-6",children:(0,s.jsx)("li",{className:"flex items-center p-1 text-sm gap-x-2 text-slate-600",children:(0,s.jsx)("img",{src:"/logout.png",className:"w-10",onClick:()=>{localStorage.clear(),h.replace("/")},alt:"Logout"})})})}),(0,s.jsx)("div",{onClick:()=>{h.back()},className:"mt-40 absolute mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,s.jsx)("img",{src:"/back-arrow.png",className:"w-14",alt:"back"})})]})})}),(0,s.jsxs)("div",{className:"left-panel flex w-full items-center",children:[(0,s.jsx)("div",{onClick:()=>{h.back()},className:"lg:hidden top-5 left-5 absolute mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,s.jsx)("img",{src:"/back-arrow.png",className:"w-10",alt:"back"})}),(0,s.jsx)("div",{onClick:()=>{localStorage.clear(),h.replace("/")},className:"lg:hidden top-5 right-5 absolute mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,s.jsx)("img",{src:"/logout.png",className:"w-10 invert h-8",alt:"back"})}),(0,s.jsx)("div",{className:"lg:-z-10 lg:block hidden",children:(0,s.jsx)("img",{className:"lg:absolute relative w-fit",src:"/cat-page-bg.png",alt:"Background"})}),(0,s.jsxs)("div",{className:"-z-20 block lg:hidden ",children:[(0,s.jsx)("img",{className:"absolute w-fit bottom-0 ",src:"/edit-profile-bg.png",alt:"Background"}),(0,s.jsx)("div",{style:{color:"black"},className:"lg:-z-10 lg:hidden absolute -left-56 top-48 rotate-90 opacity-60",children:(0,s.jsx)("img",{className:"lg:absolute relative w-1/2 bottom-0",src:"/pandit-back.png",alt:"Background"})})]})]})]}),m?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)("p",{className:"text-2xl font-semibold",children:"Loading..."})}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"heading w-full mb-5 mt-36",children:(0,s.jsx)("p",{className:"font-bold text-4xl font-serif text-gray-800 text-center",children:"Select Category Of Pooja"})}),(0,s.jsx)("div",{className:"categories-container grid grid-cols-1 lg:grid-cols-3 gap-4 p-4",children:i.map((e,t)=>(0,s.jsxs)("div",{onClick:()=>b(e.id),className:"category-card flex items-center p-4 border rounded-lg shadow-lg cursor-pointer ".concat(d===e.id?"border-red-500 border-2":"border-gray-300 border-2"),style:{backgroundColor:"white"},children:[(0,s.jsx)("img",{src:a[t],alt:e.name,className:"w-20 h-20 rounded-md mr-4"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold",children:[e.name," (",e.name_local_lang,")"]}),(0,s.jsx)("p",{className:"text-gray-600",children:e.description})]})]},e.id))})]}),(0,s.jsx)("button",{onClick:()=>{d?(localStorage.setItem("category_id",d),h.push("/dashboard/selectCategory/selectService")):alert("Please select a category first.")},className:"fixed bg-red-500 w-auto text-white py-2 px-10 rounded-lg mt-8 hover:bg-red-600 transition duration-300 bottom-8 right-1/2 translate-x-1/2 p-3  text-lg font-semibold shadow-lg",children:"Next"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[635,465,743,358],()=>t(1016)),_N_E=e.O()}]);