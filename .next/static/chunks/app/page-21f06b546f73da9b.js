(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7008:(e,a,t)=>{Promise.resolve().then(t.bind(t,7578))},7578:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(3528),l=t(6282),o=t(7369),c=t(3275),r=t(5316);function n(){let[e,a]=(0,r.useState)(""),[t,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(""),[g,u]=(0,r.useState)(""),h=(0,c.useRouter)();(0,r.useEffect)(()=>{try{let e=localStorage.getItem("authToken")||"";0!=e.length&&h.push("/dashboard")}catch(e){console.error("Error accessing localStorage:",e)}},[]);let m=async()=>{u("");try{let a=await fetch("https://test.backend.urbanoinfotech.com/api/v1/send-otp",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify({contact_number:e})}),t=await a.json();201===t.statusCode?n(!0):u("ERROR API: OTP NOT SENT")}catch(e){u("ERROR API: OTP NOT SENT"),console.log(e)}},x=async()=>{u("");try{let a=await fetch("https://test.backend.urbanoinfotech.com/api/v1/pandit-login",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify({contact_number:e,otp:i})}),t=await a.json();if(200===t.statusCode){let a="Bearer "+t.results.access;localStorage.setItem("authToken",a),localStorage.setItem("user_id",t.results.data.user_id),localStorage.setItem("contact_number",e),h.push("/dashboard")}else u(t.message)}catch(e){u("ERROR API: OTP Verification failed"),console.log(e)}};return(0,s.jsx)("div",{className:"main",children:(0,s.jsxs)("div",{className:"flex lg:flex-row flex-col",children:[(0,s.jsx)("div",{className:"navbar lg:block hidden",children:(0,s.jsx)("nav",{style:{backgroundColor:"#DB2C1D",borderRadius:"20px"},className:"lg:absolute block w-[90%] bg-opacity-90 top-3 right-[5%] left-[5%] shadow backdrop-blur-lg backdrop-saturate-150 z-[9999]",children:(0,s.jsxs)("div",{className:"container flex flex-wrap items-center justify-between mx-auto text-slate-800",children:[(0,s.jsx)(o.default,{href:"/",className:"mr-4 block cursor-pointer py-1.5 text-base text-slate-800 font-semibold",children:(0,s.jsx)(l.default,{src:"/logo.png",className:"w-14",alt:"Logo"})}),(0,s.jsx)("div",{className:"hidden lg:block"})]})})}),(0,s.jsxs)("div",{className:"left-panel flex lg:w-1/2 items-center}",children:[(0,s.jsx)("div",{className:"lg:-z-10 lg:block hidden",children:(0,s.jsx)(l.default,{className:"lg:absolute relative w-1/2 bottom-0",src:"/login-back.png",alt:"Background"})}),(0,s.jsx)("div",{style:{color:"black"},className:"lg:-z-10 lg:hidden absolute -left-56 top-48 rotate-90 opacity-60",children:(0,s.jsx)(l.default,{className:"lg:absolute relative w-1/2 bottom-0",src:"/pandit-back.png",alt:"Background"})}),(0,s.jsxs)("div",{className:"login z-0 flex items-center mx-auto flex-col h-screen justify-center",children:[(0,s.jsxs)("div",{className:"heading w-72 mb-10",children:[(0,s.jsx)("div",{className:"block lg:hidden cursor-pointer mb-20",children:(0,s.jsx)(l.default,{src:"/logo.png",className:"w-14 mx-auto",alt:"Logo"})}),(0,s.jsx)("p",{className:"font-bold text-5xl font-serif text-gray-800",children:"Log In"})]}),(0,s.jsxs)("div",{className:"form flex flex-col",children:[(0,s.jsx)("p",{className:"text-gray-700",children:"Enter Mobile Number"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"your mobile number",className:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-red-500",disabled:t}),t&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-gray-700",children:"Enter OTP"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"OTP",className:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-red-500"})]}),(0,s.jsx)("button",{onClick:t?x:m,className:"bg-red-500 w-72 text-white py-2 rounded-lg mt-8 hover:bg-red-600 transition duration-300",children:t?"Submit OTP":"Send OTP"}),g&&(0,s.jsx)("p",{className:"text-red-500 mt-4",children:g})]})]})]}),(0,s.jsxs)("div",{className:"right-panel lg:w-1/2 flex",children:[(0,s.jsxs)("div",{className:"hindi absolute lg:z-10 lg:right-1/4 right-2/4 lg:top-1/3 ",children:[(0,s.jsx)("p",{className:"lg:text-3xl font-bold text-gray-800",children:"पूजा पाठ हो या अनुष्ठान,"}),(0,s.jsx)("div",{className:"h-2"}),(0,s.jsxs)("p",{className:"lg:text-3xl font-bold text-gray-800",children:[(0,s.jsx)("span",{className:"text-red-600",children:"पंडित"})," मिलना हुआ आसान।"]})]}),(0,s.jsx)("div",{className:"panditcontainer z-0",children:(0,s.jsx)(l.default,{src:"/pandit.png",className:"bottom-0 lg:absolute lg:w-2/5 lg:right-0",alt:"Pandit Ji"})}),(0,s.jsx)("div",{className:"panditcontainer lg:block hidden -z-10",children:(0,s.jsx)(l.default,{src:"/pandit-back.png",className:"bottom-0 absolute lg:w-1/2",alt:"Background"})})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[635,282,465,743,358],()=>a(7008)),_N_E=e.O()}]);